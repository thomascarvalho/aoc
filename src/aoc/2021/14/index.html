<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="First things first, let&apos;s load our input and parse it" property="og:description"><meta content="Problem" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><link href="./../../../../_data/8VwkxqbMXDqNd21BzCWR6ijqPkHoTn6ToaM5g51DohCFAdAMXNB596N5GTy1nt5Az1gssz1RkQHR7a3nonmZyE4Ne1.css" rel="stylesheet" type="text/css"><script src="https://storage.clerk.garden/nextjournal/clerk-assets@3mwzShgnuyfhgFN9ahRYKqV32K11/viewer.js?immutable=true" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"><style id="extra-styles">em {
    font-style: normal !important;
}

html:not(.dark) pre {
    background-color: #f1f5f9 !important;
    color: #7aaac4 !important;
}

.dark em {
    color: #fff !important;
    text-shadow: 0 0 5px #fff !important;
}

.dark pre {
    background-color: rgb(31 41 55 / var(--tw-bg-opacity)) !important;
}

html:not(.dark) em {
    color: #000 !important;
    text-shadow: 0 0 2px #000 !important;
}

.viewer-result:first-child {
    display: none !important;
}</style></head><body class="dark:bg-gray-900"><div id="clerk"></div><script type="module">let viewer = nextjournal.clerk.sci_env
let state = "{:bundle? false, :path->doc {\"src/aoc/2021/14\" {:path [], :nextjournal/value {:toc [{:title \"Problem\", :emoji nil, :path \"#problem\", :items []} {:title \"Solution\", :emoji nil, :path \"#solution\", :items [{:title \"Part 1\", :emoji nil, :path \"#part-1\", :items []} {:title \"Part 2\", :emoji nil, :path \"#part-2\", :items []}]}], :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns aoc.2021.14), :file \"src/aoc/2021/14.clj\", :scope aoc.2021.14, :bundle? false, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"./../../../../\"} \"Index\"] [:span.mx-2 \"â€¢\"]] [:span \"Generated with \" [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"https://clerk.vision\"} \"Clerk\"] \" from \" [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href nil} \"src/aoc/2021/14.clj\" nil]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB\"}}, :open-graph {:type \"article:clerk\", :title \"Problem\", :description \"First things first, let's load our input and parse it\"}, :title \"Problem\", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2021.14/markdown-5dtZFT1LWJfFDGRq47HnNzyb6XDHTE\"} [\"h1\" {:id \"problem\"} [:<> \"Problem\"]]], :nextjournal/render-opts {:id \"aoc.2021.14/markdown-5dtZFT1LWJfFDGRq47HnNzyb6XDHTE\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div {:dangerouslySetInnerHTML {:__html \"<article class=\\\"day-desc\\\"><h2>--- Day 14: Extended Polymerization ---</h2><p>The incredible pressures at this depth are starting to put a strain on your submarine. The submarine has <a href=\\\"https://en.wikipedia.org/wiki/Polymerization\\\" target=\\\"_blank\\\">polymerization</a> equipment that would produce suitable materials to reinforce the submarine, and the nearby volcanically-active caves should even have the necessary input elements in sufficient quantities.</p>\\n<p>The submarine manual contains <span title=\\\"HO\\n\\nHO -&gt; OH\\\">instructions</span> for finding the optimal polymer formula; specifically, it offers a <em>polymer template</em> and a list of <em>pair insertion</em> rules (your puzzle input). You just need to work out what polymer would result after repeating the pair insertion process a few times.</p>\\n<p>For example:</p>\\n<pre><code>NNCB\\n\\nCH -&gt; B\\nHH -&gt; N\\nCB -&gt; H\\nNH -&gt; C\\nHB -&gt; C\\nHC -&gt; B\\nHN -&gt; C\\nNN -&gt; C\\nBH -&gt; H\\nNC -&gt; B\\nNB -&gt; B\\nBN -&gt; B\\nBB -&gt; N\\nBC -&gt; B\\nCC -&gt; N\\nCN -&gt; C\\n</code></pre>\\n<p>The first line is the <em>polymer template</em> - this is the starting point of the process.</p>\\n<p>The following section defines the <em>pair insertion</em> rules. A rule like <code>AB -&gt; C</code> means that when elements <code>A</code> and <code>B</code> are immediately adjacent, element <code>C</code> should be inserted between them. These insertions all happen simultaneously.</p>\\n<p>So, starting with the polymer template <code>NNCB</code>, the first step simultaneously considers all three pairs:</p>\\n<ul>\\n<li>The first pair (<code>NN</code>) matches the rule <code>NN -&gt; C</code>, so element <code><em>C</em></code> is inserted between the first <code>N</code> and the second <code>N</code>.</li>\\n<li>The second pair (<code>NC</code>) matches the rule <code>NC -&gt; B</code>, so element <code><em>B</em></code> is inserted between the <code>N</code> and the <code>C</code>.</li>\\n<li>The third pair (<code>CB</code>) matches the rule <code>CB -&gt; H</code>, so element <code><em>H</em></code> is inserted between the <code>C</code> and the <code>B</code>.</li>\\n</ul>\\n<p>Note that these pairs overlap: the second element of one pair is the first element of the next pair. Also, because all pairs are considered simultaneously, inserted elements are not considered to be part of a pair until the next step.</p>\\n<p>After the first step of this process, the polymer becomes <code>N<em>C</em>N<em>B</em>C<em>H</em>B</code>.</p>\\n<p>Here are the results of a few steps using the above rules:</p>\\n<pre><code>Template:     NNCB\\nAfter step 1: NCNBCHB\\nAfter step 2: NBCCNBBBCBHCB\\nAfter step 3: NBBBCNCCNBBNBNBBCHBHHBCHB\\nAfter step 4: NBBNBNBBCCNBCNCCNBBNBBNBBBNBBNBBCBHCBHHNHCBBCBHCB\\n</code></pre>\\n<p>This polymer grows quickly. After step 5, it has length 97; After step 10, it has length 3073. After step 10, <code>B</code> occurs 1749 times, <code>C</code> occurs 298 times, <code>H</code> occurs 161 times, and <code>N</code> occurs 865 times; taking the quantity of the most common element (<code>B</code>, 1749) and subtracting the quantity of the least common element (<code>H</code>, 161) produces <code>1749 - 161 = <em>1588</em></code>.</p>\\n<p>Apply 10 steps of pair insertion to the polymer template and find the most and least common elements in the result. <em>What do you get if you take the quantity of the most common element and subtract the quantity of the least common element?</em></p>\\n</article><article class=\\\"day-desc\\\"><h2 id=\\\"part2\\\">--- Part Two ---</h2><p>The resulting polymer isn't nearly strong enough to reinforce the submarine. You'll need to run more steps of the pair insertion process; a total of <em>40 steps</em> should do it.</p>\\n<p>In the above example, the most common element is <code>B</code> (occurring <code>2192039569602</code> times) and the least common element is <code>H</code> (occurring <code>3849876073</code> times); subtracting these produces <code><em>2188189693529</em></code>.</p>\\n<p>Apply <em>40</em> steps of pair insertion to the polymer template and find the most and least common elements in the result. <em>What do you get if you take the quantity of the most common element and subtract the quantity of the least common element?</em></p>\\n</article>\"}}], :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB\"}, :nextjournal/render-opts {:id \"aoc.2021.14/anon-expr-5dqskcsr5NdSXvudkomjH4YZBCStA1-result\"}}, :nextjournal/blob-id \"5dtNnXhdMdVXi6KJCmd5hs3T238HhQ\"}, :nextjournal/render-opts {:id \"aoc.2021.14/anon-expr-5dqskcsr5NdSXvudkomjH4YZBCStA1-result\"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2021.14/markdown-5dtGGvM8F3yf8U8iZcduar1Kdqs7Rv\"} [\"h1\" {:id \"solution\"} [:<> \"Solution\"]] [:p [:<> \"First things first, let's load our input and parse it\"]]], :nextjournal/render-opts {:id \"aoc.2021.14/markdown-5dtGGvM8F3yf8U8iZcduar1Kdqs7Rv\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe\"}} {:path [], :nextjournal/value \"(defn parser [data]\\n  (let [[template raw-rules] (str/split data #\\\"\\\\n\\\\n\\\")\\n\\n        rules-map            (->> raw-rules\\n                                  str/split-lines\\n                                  (map #(re-find #\\\"(\\\\w+) -> (\\\\w)\\\" %))\\n                                  (map (fn [[_ pair insert]]\\n                                         (hash-map (into [] (char-array pair)) (first (char-array insert)))))\\n                                  (apply merge))]\\n\\n\\n    [template rules-map]))\", :nextjournal/render-opts {:loc {:line 21, :end-line 32, :column 1, :end-column 27}, :id \"aoc.2021.14/parser-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[aoc.2021.14$parser 0x3c49b7a9 \\\"aoc.2021.14$parser@3c49b7a9\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5draK8r6Qh96paK7hAAz4TKbfdrpV4\"}, :nextjournal/render-opts {:id \"aoc.2021.14/parser-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"aoc.2021.14/parser-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def input (->> (slurp (io/resource \\\"inputs/2021/14.txt\\\")) ;; Load the resource\\n                parser))                             ;; Split into lines\", :nextjournal/render-opts {:loc {:line 34, :end-line 35, :column 1, :end-column 25}, :id \"aoc.2021.14/input-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value \"COPBCNPOBKCCFFBSVHKO\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsDiKZaSjZpuyav79P69dRKiDtE2s\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value [{:path [1 0 0 0], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}} {:path [1 0 0 1], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f\"}} {:path [1 0 1], :nextjournal/value \\K, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5dsxFB9emxPBEJRUNCz6BJ73x9BinY\"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value [{:path [1 1 0 0], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}} {:path [1 1 0 1], :nextjournal/value \\C, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f\"}} {:path [1 1 1], :nextjournal/value \\K, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5dsxFB9emxPBEJRUNCz6BJ73x9BinY\"}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value [{:path [1 2 0 0], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}} {:path [1 2 0 1], :nextjournal/value \\F, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f\"}} {:path [1 2 1], :nextjournal/value \\C, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5dsxFB9emxPBEJRUNCz6BJ73x9BinY\"}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value [{:path [1 3 0 0], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}} {:path [1 3 0 1], :nextjournal/value \\H, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f\"}} {:path [1 3 1], :nextjournal/value \\P, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5dsxFB9emxPBEJRUNCz6BJ73x9BinY\"}} {:path [1 4], :nextjournal/value [{:path [1 4 0], :nextjournal/value [{:path [1 4 0 0], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}} {:path [1 4 0 1], :nextjournal/value \\K, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f\"}} {:path [1 4 1], :nextjournal/value \\H, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5dsxFB9emxPBEJRUNCz6BJ73x9BinY\"}} {:path [1 5], :nextjournal/value [{:path [1 5 0], :nextjournal/value [{:path [1 5 0 0], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}} {:path [1 5 0 1], :nextjournal/value \\N, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f\"}} {:path [1 5 1], :nextjournal/value \\C, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5dsxFB9emxPBEJRUNCz6BJ73x9BinY\"}} {:path [1 6], :nextjournal/value [{:path [1 6 0], :nextjournal/value [{:path [1 6 0 0], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}} {:path [1 6 0 1], :nextjournal/value \\O, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f\"}} {:path [1 6 1], :nextjournal/value \\S, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5dsxFB9emxPBEJRUNCz6BJ73x9BinY\"}} {:path [1 7], :nextjournal/value [{:path [1 7 0], :nextjournal/value [{:path [1 7 0 0], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}} {:path [1 7 0 1], :nextjournal/value \\P, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f\"}} {:path [1 7 1], :nextjournal/value \\P, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5dsxFB9emxPBEJRUNCz6BJ73x9BinY\"}} {:path [1 8], :nextjournal/value [{:path [1 8 0], :nextjournal/value [{:path [1 8 0 0], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}} {:path [1 8 0 1], :nextjournal/value \\S, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f\"}} {:path [1 8 1], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5dsxFB9emxPBEJRUNCz6BJ73x9BinY\"}} {:path [1 9], :nextjournal/value [{:path [1 9 0], :nextjournal/value [{:path [1 9 0 0], :nextjournal/value \\B, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}} {:path [1 9 0 1], :nextjournal/value \\V, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f\"}} {:path [1 9 1], :nextjournal/value \\H, :nextjournal/viewer {:name nextjournal.clerk.viewer/char-viewer, :render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtQvTXo8DUyhKUu1cJkiMBq8ZC6a9\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5dsxFB9emxPBEJRUNCz6BJ73x9BinY\"}} {:nextjournal/value {:n 10, :path [1], :total 100, :offset 10}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-elision, :hash \"5drduatKq2QJCDhSX1Pu45i4whSPHk\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-map, :opening-paren \"{\", :closing-paren (\"}\" \"]\"), :page-size 10, :hash \"5drc3ac5ux7kS4h2vozdxwsrKDqSmn\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :page-size 20, :hash \"5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f\"}, :nextjournal/render-opts {:id \"aoc.2021.14/input-result\"}}, :nextjournal/blob-id \"5drJuzWCTPtUUSANSKrgpEAuWXcD8v\"}, :nextjournal/render-opts {:id \"aoc.2021.14/input-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2021.14/markdown-5dsLQVqLwHioA3DLdhFHNB75WYceBM\"} [:p [:<> \"Example\"]]], :nextjournal/render-opts {:id \"aoc.2021.14/markdown-5dsLQVqLwHioA3DLdhFHNB75WYceBM\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe\"}} {:path [], :nextjournal/value \"(def input-example (parser \\\"NNCB\\n\\nCH -> B\\nHH -> N\\nCB -> H\\nNH -> C\\nHB -> C\\nHC -> B\\nHN -> C\\nNN -> C\\nBH -> H\\nNC -> B\\nNB -> B\\nBN -> B\\nBB -> N\\nBC -> B\\nCC -> N\\nCN -> C\\\"))\", :nextjournal/render-opts {:loc {:line 39, :end-line 56, :column 1, :end-column 11}, :id \"aoc.2021.14/input-example-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2021.14/markdown-5dtrnPJcoBAw6K7JB7KNxfz1PQ1Qfi\"} [\"h2\" {:id \"part-1\"} [:<> \"Part 1\"]]], :nextjournal/render-opts {:id \"aoc.2021.14/markdown-5dtrnPJcoBAw6K7JB7KNxfz1PQ1Qfi\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe\"}} {:path [], :nextjournal/value \"(defn part-1\\n  [[initial-template rules-map]]\\n\\n  (let [final-template (loop [template initial-template\\n                              step     0]\\n                         (if (= step 10)\\n                           template\\n                           (let [new-template (atom [])]\\n                             (doseq [pair (partition 2 1 nil template)\\n                                     :let [insert (get rules-map (into [] pair))]]\\n                               (if insert\\n                                 (swap! new-template conj (first pair) insert)\\n                                 (swap! new-template conj (first pair) (second pair))))\\n                             (recur\\n                              (->> @new-template\\n                                   (remove nil?)\\n                                   str/join)\\n                              (inc step)))))\\n        freqs          (->>  final-template\\n                             frequencies\\n                             (sort-by second)\\n                             (map second))]\\n    (- (last freqs) (first freqs)))\\n  ;\\n  )\", :nextjournal/render-opts {:loc {:line 59, :end-line 83, :column 1, :end-column 4}, :id \"aoc.2021.14/part-1-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2021.14/markdown-5dspMqxdw3uNK6Pgan8eaYi57sm4wP\"} [:p [:<> \"Which gives our answer\"]]], :nextjournal/render-opts {:id \"aoc.2021.14/markdown-5dspMqxdw3uNK6Pgan8eaYi57sm4wP\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2021.14/markdown-5ds9N76pdHXQLomJMbY9NWDvftmkBH\"} [\"h2\" {:id \"part-2\"} [:<> \"Part 2\"]]], :nextjournal/render-opts {:id \"aoc.2021.14/markdown-5ds9N76pdHXQLomJMbY9NWDvftmkBH\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe\"}} {:path [], :nextjournal/value \"(defn part-2\\n  [[initial-template rules-map]]\\n  (let [final-template (loop [template initial-template\\n                              step     0]\\n                         (if (= step 40)\\n                           template\\n                           (let [new-template (atom [])]\\n                             (doseq [pair (partition 2 1 nil template)\\n                                     :let [insert (get rules-map (into [] pair))]]\\n                               (if insert\\n                                 (swap! new-template conj (first pair) insert)\\n                                 (swap! new-template conj (first pair) (second pair))))\\n                             (recur\\n                              (->> @new-template\\n                                   (remove nil?)\\n                                   str/join)\\n                              (inc step)))))\\n        freqs          (->>  final-template\\n                             frequencies\\n                             (sort-by second)\\n                             (map second))]\\n    (- (last freqs) (first freqs)))\\n  ;\\n  )\", :nextjournal/render-opts {:loc {:line 93, :end-line 116, :column 1, :end-column 4}, :id \"aoc.2021.14/part-2-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2021.14/markdown-5dspMqxdw3uNK6Pgan8eaYi57sm4wP#2\"} [:p [:<> \"Which gives our answer\"]]], :nextjournal/render-opts {:id \"aoc.2021.14/markdown-5dspMqxdw3uNK6Pgan8eaYi57sm4wP#2\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2021.14/markdown-5dtR26W5TdqL37uwHPXhhk52Yz5P9k\"} [:p [:<> \"Tests\"]]], :nextjournal/render-opts {:id \"aoc.2021.14/markdown-5dtR26W5TdqL37uwHPXhhk52Yz5P9k\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[aoc.2021.14$test_2021_14 0x30a68b81 \\\"aoc.2021.14$test_2021_14@30a68b81\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5draK8r6Qh96paK7hAAz4TKbfdrpV4\"}, :nextjournal/render-opts {:id \"aoc.2021.14/test-2021-14-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"aoc.2021.14/test-2021-14-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5duAFDxE4sCnRX71Wo6zeCpC9C3djE\"}}}, :current-path \"src/aoc/2021/14\", :resource->url {\"/js/viewer.js\" \"https://storage.clerk.garden/nextjournal/clerk-assets@3mwzShgnuyfhgFN9ahRYKqV32K11/viewer.js?immutable=true\", \"/css/viewer.css\" \"_data/8VwkxqbMXDqNd21BzCWR6ijqPkHoTn6ToaM5g51DohCFAdAMXNB596N5GTy1nt5Az1gssz1RkQHR7a3nonmZyE4Ne1.css\"}, :index \"src/index.clj\"}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
viewer.init(viewer.read_string(state))
</script></body></html>