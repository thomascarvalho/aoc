<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="First things first, let&apos;s load our input and parse it" property="og:description"><meta content="Problem" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><link href="./../../../../_data/8VtHHWgqCiiRC7Hxgd3yu8WfGWW9i4rk1tw8FgxCE9nrjm5so2j3abZfAnng96YjCWrrpGhBmFdjAoVnfuwo32awiw.css" rel="stylesheet" type="text/css"><script src="https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"><style id="extra-styles">em {
    font-style: normal !important;
}

html:not(.dark) pre {
    background-color: #f1f5f9 !important;
    color: #7aaac4 !important;
}

.dark em {
    color: #fff !important;
    text-shadow: 0 0 5px #fff !important;
}

.dark pre {
    background-color: rgb(31 41 55 / var(--tw-bg-opacity)) !important;
}

html:not(.dark) em {
    color: #000 !important;
    text-shadow: 0 0 2px #000 !important;
}

.viewer-result:first-child {
    display: none !important;
}</style></head><body class="dark:bg-gray-900"><div id="clerk"></div><script type="module">let viewer = nextjournal.clerk.sci_env
let state = "{:bundle? false, :path->doc {\"src/aoc/2023/15\" {:path [], :nextjournal/value {:toc [{:title \"Problem\", :emoji nil, :path \"#problem\", :items []} {:title \"Solution\", :emoji nil, :path \"#solution\", :items [{:title \"Part 1\", :emoji nil, :path \"#part-1\", :items []} {:title \"Part 2\", :emoji nil, :path \"#part-2\", :items []}]} {:title \"Tests\", :emoji nil, :path \"#tests\", :items [{:title \"Suite\", :emoji nil, :path \"#suite\", :items []} {:title \"Results\", :emoji nil, :path \"#results\", :items []}]}], :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns aoc.2023.15), :file \"src/aoc/2023/15.clj\", :scope aoc.2023.15, :bundle? false, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"./../../../../\"} \"Index\"] [:span.mx-2 \"â€¢\"]] [:span \"Served from \" [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"https://clerk.vision\"} \"Clerk\"] nil]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}, :open-graph {:type \"article:clerk\", :title \"Problem\", :description \"First things first, let's load our input and parse it\"}, :title \"Problem\", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2023.15/markdown-5dqq5acBASUPKy7JX3Uoyxc1KPMN9A\"} [\"h1\" {:id \"problem\"} [:<> \"Problem\"]]], :nextjournal/render-opts {:id \"aoc.2023.15/markdown-5dqq5acBASUPKy7JX3Uoyxc1KPMN9A\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div {:dangerouslySetInnerHTML {:__html \"<article class=\\\"day-desc\\\"><h2>--- Day 15: Lens Library ---</h2><p>The newly-focused parabolic reflector dish is sending all of the collected light to a point on the side of yet another mountain - the largest mountain on Lava Island. As you approach the mountain, you find that the light is being collected by the wall of a large facility embedded in the mountainside.</p>\\n<p>You find a door under a large sign that says &quot;Lava Production Facility&quot; and next to a smaller sign that says &quot;Danger - Personal Protective Equipment required beyond this point&quot;.</p>\\n<p>As you step inside, you are immediately greeted by a somewhat panicked <span title=\\\"do you like my hard hat\\\">reindeer</span> wearing goggles and a loose-fitting <a href=\\\"https://en.wikipedia.org/wiki/Hard_hat\\\" target=\\\"_blank\\\">hard hat</a>. The reindeer leads you to a shelf of goggles and hard hats (you quickly find some that fit) and then further into the facility. At one point, you pass a button with a faint snout mark and the label &quot;PUSH FOR HELP&quot;. No wonder you were loaded into that <a href=\\\"1\\\">trebuchet</a> so quickly!</p>\\n<p>You pass through a final set of doors surrounded with even more warning signs and into what must be the room that collects all of the light from outside. As you admire the large assortment of lenses available to further focus the light, the reindeer brings you a book titled &quot;Initialization Manual&quot;.</p>\\n<p>&quot;Hello!&quot;, the book cheerfully begins, apparently unaware of the concerned reindeer reading over your shoulder. &quot;This procedure will let you bring the Lava Production Facility online - all without burning or melting anything unintended!&quot;</p>\\n<p>&quot;Before you begin, please be prepared to use the Holiday ASCII String Helper algorithm (appendix 1A).&quot; You turn to appendix 1A. The reindeer leans closer with interest.</p>\\n<p>The HASH algorithm is a way to turn any <a href=\\\"https://en.wikipedia.org/wiki/String_(computer_science)\\\" target=\\\"_blank\\\">string</a> of characters into a single <em>number</em> in the range 0 to 255. To run the HASH algorithm on a string, start with a <em>current value</em> of <code>0</code>. Then, for each character in the string starting from the beginning:</p>\\n<ul>\\n<li>Determine the <a href=\\\"https://en.wikipedia.org/wiki/ASCII#Printable_characters\\\" target=\\\"_blank\\\">ASCII code</a> for the current character of the string.</li>\\n<li>Increase the <em>current value</em> by the ASCII code you just determined.</li>\\n<li>Set the <em>current value</em> to itself multiplied by <code>17</code>.</li>\\n<li>Set the <em>current value</em> to the <a href=\\\"https://en.wikipedia.org/wiki/Modulo\\\" target=\\\"_blank\\\">remainder</a> of dividing itself by <code>256</code>.</li>\\n</ul>\\n<p>After following these steps for each character in the string in order, the <em>current value</em> is the output of the HASH algorithm.</p>\\n<p>So, to find the result of running the HASH algorithm on the string <code>HASH</code>:</p>\\n<ul>\\n<li>The <em>current value</em> starts at <code>0</code>.</li>\\n<li>The first character is <code>H</code>; its ASCII code is <code>72</code>.</li>\\n<li>The <em>current value</em> increases to <code>72</code>.</li>\\n<li>The <em>current value</em> is multiplied by <code>17</code> to become <code>1224</code>.</li>\\n<li>The <em>current value</em> becomes <code><em>200</em></code> (the remainder of <code>1224</code> divided by <code>256</code>).</li>\\n<li>The next character is <code>A</code>; its ASCII code is <code>65</code>.</li>\\n<li>The <em>current value</em> increases to <code>265</code>.</li>\\n<li>The <em>current value</em> is multiplied by <code>17</code> to become <code>4505</code>.</li>\\n<li>The <em>current value</em> becomes <code><em>153</em></code> (the remainder of <code>4505</code> divided by <code>256</code>).</li>\\n<li>The next character is <code>S</code>; its ASCII code is <code>83</code>.</li>\\n<li>The <em>current value</em> increases to <code>236</code>.</li>\\n<li>The <em>current value</em> is multiplied by <code>17</code> to become <code>4012</code>.</li>\\n<li>The <em>current value</em> becomes <code><em>172</em></code> (the remainder of <code>4012</code> divided by <code>256</code>).</li>\\n<li>The next character is <code>H</code>; its ASCII code is <code>72</code>.</li>\\n<li>The <em>current value</em> increases to <code>244</code>.</li>\\n<li>The <em>current value</em> is multiplied by <code>17</code> to become <code>4148</code>.</li>\\n<li>The <em>current value</em> becomes <code><em>52</em></code> (the remainder of <code>4148</code> divided by <code>256</code>).</li>\\n</ul>\\n<p>So, the result of running the HASH algorithm on the string <code>HASH</code> is <code><em>52</em></code>.</p>\\n<p>The <em>initialization sequence</em> (your puzzle input) is a comma-separated list of steps to start the Lava Production Facility. <em>Ignore newline characters</em> when parsing the initialization sequence. To verify that your HASH algorithm is working, the book offers the sum of the result of running the HASH algorithm on each step in the initialization sequence.</p>\\n<p>For example:</p>\\n<pre><code>rn=1,cm-,qp=3,cm=2,qp-,pc=4,ot=9,ab=5,pc-,pc=6,ot=7</code></pre>\\n<p>This initialization sequence specifies 11 individual steps; the result of running the HASH algorithm on each of the steps is as follows:</p>\\n<ul>\\n<li><code>rn=1</code> becomes <code><em>30</em></code>.</li>\\n<li><code>cm-</code> becomes <code><em>253</em></code>.</li>\\n<li><code>qp=3</code> becomes <code><em>97</em></code>.</li>\\n<li><code>cm=2</code> becomes <code><em>47</em></code>.</li>\\n<li><code>qp-</code> becomes <code><em>14</em></code>.</li>\\n<li><code>pc=4</code> becomes <code><em>180</em></code>.</li>\\n<li><code>ot=9</code> becomes <code><em>9</em></code>.</li>\\n<li><code>ab=5</code> becomes <code><em>197</em></code>.</li>\\n<li><code>pc-</code> becomes <code><em>48</em></code>.</li>\\n<li><code>pc=6</code> becomes <code><em>214</em></code>.</li>\\n<li><code>ot=7</code> becomes <code><em>231</em></code>.</li>\\n</ul>\\n<p>In this example, the sum of these results is <code><em>1320</em></code>. Unfortunately, the reindeer has stolen the page containing the expected verification number and is currently running around the facility with it excitedly.</p>\\n<p>Run the HASH algorithm on each step in the initialization sequence. <em>What is the sum of the results?</em> (The initialization sequence is one long line; be careful when copy-pasting it.)</p>\\n</article>\"}}], :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}, :nextjournal/render-opts {:id \"aoc.2023.15/anon-expr-5dt6JhQTaYFZkfWTWtomtnGMeSLZMr-result\"}}, :nextjournal/blob-id \"5dtYWmXFNxxn1nNkrc8irRQMkZLKPk\", :nextjournal/fetch-opts {:blob-id \"5dtYWmXFNxxn1nNkrc8irRQMkZLKPk\"}, :nextjournal/hash \"8VxoK8ZY1GE7KN5YWhXqk1feJKHAz5DdUanhTf2vWFiY8xTtD4wEhXTFimDbbDUGrrbqMEUi1zwAKJaRiGW4fBuNRc\"}, :nextjournal/render-opts {:id \"aoc.2023.15/anon-expr-5dt6JhQTaYFZkfWTWtomtnGMeSLZMr-result\"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2023.15/markdown-5dtn8GCqw2urNoSmsQ2X8JrdZtqMfk\"} [\"h1\" {:id \"solution\"} [:<> \"Solution\"]] [:p [:<> \"First things first, let's load our input and parse it\"]]], :nextjournal/render-opts {:id \"aoc.2023.15/markdown-5dtn8GCqw2urNoSmsQ2X8JrdZtqMfk\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn parser [data]\\n  (-> data\\n      str/trim-newline\\n      (str/split #\\\",\\\")))\", :nextjournal/render-opts {:loc {:line 22, :end-line 25, :column 1, :end-column 25}, :id \"aoc.2023.15/parser-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[aoc.2023.15$parser 0x415a61cd \\\"aoc.2023.15$parser@415a61cd\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"aoc.2023.15/parser-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"aoc.2023.15/parser-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(def input (->> (slurp (io/resource \\\"inputs/2023/15.txt\\\")) ;; Load the resource\\n                parser))                             ;; Split into lines\", :nextjournal/render-opts {:loc {:line 27, :end-line 28, :column 1, :end-column 25}, :id \"aoc.2023.15/input-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value \"lqgpv=5\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [1], :nextjournal/value \"bvv=1\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [2], :nextjournal/value \"sls-\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [3], :nextjournal/value \"ttn=2\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [4], :nextjournal/value \"gvh=3\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [5], :nextjournal/value \"bgj-\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [6], :nextjournal/value \"zg-\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [7], :nextjournal/value \"sv-\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [8], :nextjournal/value \"fqz=7\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [9], :nextjournal/value \"ldb-\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [10], :nextjournal/value \"gvzx-\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [11], :nextjournal/value \"hh-\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [12], :nextjournal/value \"vbk=1\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [13], :nextjournal/value \"rnhrk=9\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [14], :nextjournal/value \"zvt-\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [15], :nextjournal/value \"zxk-\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [16], :nextjournal/value \"pvjz-\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [17], :nextjournal/value \"vx=7\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [18], :nextjournal/value \"rzq=1\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:path [19], :nextjournal/value \"snf-\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}} {:nextjournal/value {:n 20, :path [], :total 4000, :offset 20}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-elision, :hash \"5dspwtw9QTXohtFfqtoeWBkFHRFp9w\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}, :nextjournal/render-opts {:id \"aoc.2023.15/input-result\"}}, :nextjournal/blob-id \"5dryi7fqMpYnnwXK9BJqGkU4rTqqes\", :nextjournal/fetch-opts {:blob-id \"5dryi7fqMpYnnwXK9BJqGkU4rTqqes\"}, :nextjournal/hash \"8VvYxKULnfyuqyYrpfpcLkGKDyxtc2CgE62Vh3vMjpj5hiiFWsyEVa1Wim4X896ex1d4SLUy5oUxqSh1VSriKhHHDz\"}, :nextjournal/render-opts {:id \"aoc.2023.15/input-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2023.15/markdown-5drgojQ2ThS3FZxp1HuzcXgLajGtdm\"} [:p [:<> \"Example\"]]], :nextjournal/render-opts {:id \"aoc.2023.15/markdown-5drgojQ2ThS3FZxp1HuzcXgLajGtdm\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(def input-example (parser \\\"rn=1,cm-,qp=3,cm=2,qp-,pc=4,ot=9,ab=5,pc-,pc=6,ot=7\\\"))\", :nextjournal/render-opts {:loc {:line 32, :end-line 32, :column 1, :end-column 83}, :id \"aoc.2023.15/input-example-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value \"(defn get-hash [s]\\n  (reduce (fn [current ch]\\n            (-> ch\\n                int\\n                (+ current)\\n                (* 17)\\n                (rem 256))) 0 s))\", :nextjournal/render-opts {:loc {:line 34, :end-line 40, :column 1, :end-column 34}, :id \"aoc.2023.15/get-hash-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2023.15/markdown-5drFf1TXNZLn336Ph1vwbkx8cA6KDv\"} [\"h2\" {:id \"part-1\"} [:<> \"Part 1\"]]], :nextjournal/render-opts {:id \"aoc.2023.15/markdown-5drFf1TXNZLn336Ph1vwbkx8cA6KDv\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn part-1\\n  [strings]\\n  (->>\\n   (map get-hash strings)\\n   (reduce +)))\", :nextjournal/render-opts {:loc {:line 43, :end-line 47, :column 1, :end-column 16}, :id \"aoc.2023.15/part-1-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2023.15/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT\"} [:p [:<> \"Which gives our answer\"]]], :nextjournal/render-opts {:id \"aoc.2023.15/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[aoc.2023.15$first_index_for_label 0x7d474685 \\\"aoc.2023.15$first_index_for_label@7d474685\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"aoc.2023.15/first-index-for-label-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"aoc.2023.15/first-index-for-label-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2023.15/markdown-5dqo1NXgLfjhMgxykGcEprXUno7u6y\"} [\"h2\" {:id \"part-2\"} [:<> \"Part 2\"]]], :nextjournal/render-opts {:id \"aoc.2023.15/markdown-5dqo1NXgLfjhMgxykGcEprXUno7u6y\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn part-2\\n  [strings]\\n  (->>\\n   strings\\n   (reduce\\n    (fn [all-boxes s]\\n      (let [[_ label op focal] (re-find #\\\"(\\\\w+)([=-])(\\\\d+)?\\\" s)\\n            index              (get-hash label)\\n            current-boxes      (get all-boxes index)\\n            assoc-box-index    (first-index-for-label current-boxes label)]\\n        (case op\\n          \\\"-\\\" (if (and (seq current-boxes) assoc-box-index)\\n                (assoc all-boxes index (u/vec-remove assoc-box-index current-boxes))\\n                all-boxes)\\n          \\\"=\\\" (if (seq current-boxes)\\n                (if assoc-box-index\\n                  (assoc-in all-boxes [index assoc-box-index] [label focal])\\n                  (update all-boxes index conj [label focal]))\\n                (assoc all-boxes index [[label focal]])))))\\n    {})\\n   (reduce-kv\\n    (fn [total k boxes]\\n      (if (seq boxes)\\n        (+ total (reduce (fn [t [i [_label focal]]]\\n                           (let [r (* (inc k) (inc i) (parse-long focal))]\\n                             (+ t r))) 0 (map-indexed vector boxes)))\\n        total))\\n    0))\\n\\n  ;\\n  )\", :nextjournal/render-opts {:loc {:line 62, :end-line 92, :column 1, :end-column 4}, :id \"aoc.2023.15/part-2-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2023.15/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT#2\"} [:p [:<> \"Which gives our answer\"]]], :nextjournal/render-opts {:id \"aoc.2023.15/markdown-5dsCmyHsvB8C19ZLVyDeAMusv11HXT#2\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2023.15/markdown-5dtDWouhgRcvd3akFfTpyZfsmDVeUm\"} [\"h1\" {:id \"tests\"} [:<> \"Tests\"]]], :nextjournal/render-opts {:id \"aoc.2023.15/markdown-5dtDWouhgRcvd3akFfTpyZfsmDVeUm\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2023.15/markdown-5dr153qfhysFkes18QiUGEjQTNA2vB\"} [\"h2\" {:id \"suite\"} [:<> \"Suite\"]]], :nextjournal/render-opts {:id \"aoc.2023.15/markdown-5dr153qfhysFkes18QiUGEjQTNA2vB\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(deftest test-2023-15\\n  (testing \\\"part one\\\"\\n    (is (= 506269 (part-1 input))))\\n\\n  (testing \\\"part two - example\\\"\\n    (is (= 145 (part-2 input-example))))\\n\\n  (testing \\\"part two\\\"\\n    (is (= 264021 (part-2 input)))))\", :nextjournal/render-opts {:loc {:line 105, :end-line 113, :column 1, :end-column 37}, :id \"aoc.2023.15/test-2023-15-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"aoc.2023.15/markdown-5du6Z4yxhXb5yp2p8toeZJ3V3D45Jo\"} [\"h2\" {:id \"results\"} [:<> \"Results\"]]], :nextjournal/render-opts {:id \"aoc.2023.15/markdown-5du6Z4yxhXb5yp2p8toeZJ3V3D45Jo\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5dsiHybTyGGTEpReRaV7nfNxoDgnKx\"}}}, :current-path \"src/aoc/2023/15\", :resource->url {\"/js/viewer.js\" \"https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true\", \"/css/viewer.css\" \"_data/8VtHHWgqCiiRC7Hxgd3yu8WfGWW9i4rk1tw8FgxCE9nrjm5so2j3abZfAnng96YjCWrrpGhBmFdjAoVnfuwo32awiw.css\"}, :index \"src/index.clj\"}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
viewer.init(viewer.read_string(state))
</script></body></html>