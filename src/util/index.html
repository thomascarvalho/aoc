<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="Like the core time macro, but rather than printing the elapsed time it returns a list of (result, time). Returned value is in milliseconds." property="og:description"><meta property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><link href="./../../_data/8VwRacfAp9VtgahH4iyd7ZtkRPNpBJQFjpEachUUioQt9RvYYXvb8EhyGNN3weht8T8Y4hBYg2UmnfL7u4Q6YR1fVw.css" rel="stylesheet" type="text/css"><script src="https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"><style id="extra-styles">em {
  font-style: normal !important;
}

html:not(.dark) {
  background-color: #f4f3f3;
}

html.dark {
  background-color: #222831 !important;
}

body {
  background: transparent !important;
}

html:not(.dark) pre {
  background-color: #f1f5f9 !important;
  color: #7aaac4 !important;
}

.dark em {
  color: #fff !important;
  text-shadow: 0 0 5px #fff !important;
}

.dark pre {
  background-color: rgb(31 41 55 / var(--tw-bg-opacity)) !important;
}

html:not(.dark) em {
  color: #000 !important;
  text-shadow: 0 0 2px #000 !important;
}

.viewer-result:first-child {
  display: none !important;
}

.notebook-viewer > pre > code {
  background: transparent !important;
}

.notebook-viewer
  :is(:where(code):not(:where([class~="not-prose"], [class~="not-prose"] *))),
.markdown-viewer
  :is(:where(code):not(:where([class~="not-prose"], [class~="not-prose"] *))) {
  background-color: transparent;
}
</style></head><body class="dark:bg-gray-900"><div id="clerk"></div><script type="module">let viewer = nextjournal.clerk.sci_env
let state = "{:bundle? false, :path->doc {\"src/util\" {:path [], :nextjournal/value {:toc [], :sidenotes? false, :toc-visibility false, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns util), :file \"src/util.clj\", :scope util, :bundle? false, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"./../../\"} \"Index\"] [:span.mx-2 \"â€¢\"]] [:span \"Served from \" [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href \"https://clerk.vision\"} \"Clerk\"] nil]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}, :open-graph {:type \"article:clerk\", :title nil, :description \"Like the core time macro, but rather than printing the elapsed time it returns a list of (result, time). Returned value is in milliseconds.\"}, :blocks [{:path [], :nextjournal/value \"(ns util\\n  (:require [clj-http.client :as client]\\n            [clojure.string :as str]\\n            [hickory.core :as h]\\n            [nextjournal.clerk :as clerk]\\n            [ubergraph.core :as uber]\\n            [hickory.render :as hr]\\n            [hiccup2.core :as hi]\\n            [hickory.select :as s]\\n            [clojure.pprint :refer [pprint]]\\n            [babashka.fs :as fs]\\n            [instaparse.core :as insta]))\", :nextjournal/render-opts {:loc {:line 1, :end-line 12, :column 1, :end-column 42}, :id \"util/anon-expr-5drXY2kaXm9t8PqjwmRd5VcfajFwCx-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value \"(defn to-blocks\\n  \\\"Turn a blob (probably from `slurp`) into a seq of blocks\\\"\\n  [input]\\n  (str/split input #\\\"\\\\n\\\\n\\\"))\", :nextjournal/render-opts {:loc {:line 14, :end-line 17, :column 1, :end-column 29}, :id \"util/to-blocks-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$to_blocks 0x70ed74f1 \\\"util$to_blocks@70ed74f1\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/to-blocks-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/to-blocks-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn to-lines\\n  \\\"Turn a blob or block into a seq of lines\\\"\\n  [input]\\n  (str/split-lines input))\", :nextjournal/render-opts {:loc {:line 19, :end-line 22, :column 1, :end-column 27}, :id \"util/to-lines-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$to_lines 0x20f65151 \\\"util$to_lines@20f65151\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/to-lines-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/to-lines-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn to-matrix\\n  \\\"Turn a blob (or block) into a vector of vectors\\\"\\n  ([input]\\n   (to-matrix identity input))\\n  ([transform input]\\n   (->> input\\n        to-lines\\n        (mapv #(mapv transform (vec %))))))\", :nextjournal/render-opts {:loc {:line 24, :end-line 31, :column 1, :end-column 44}, :id \"util/to-matrix-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$to_matrix 0x30a29382 \\\"util$to_matrix@30a29382\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/to-matrix-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/to-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn vec-remove\\n  \\\"Remove element at index on a coll\\\"\\n  [pos coll]\\n  (into (subvec coll 0 pos) (subvec coll (inc pos))))\", :nextjournal/render-opts {:loc {:line 34, :end-line 37, :column 1, :end-column 54}, :id \"util/vec-remove-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$vec_remove 0x19b74392 \\\"util$vec_remove@19b74392\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/vec-remove-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/vec-remove-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn nth-cycling\\n  \\\"Find any element on a cycling vector\\\"\\n  [vector i]\\n  (nth vector (mod i (count vector))))\", :nextjournal/render-opts {:loc {:line 39, :end-line 42, :column 1, :end-column 39}, :id \"util/nth-cycling-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$nth_cycling 0x266e6a9 \\\"util$nth_cycling@266e6a9\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/nth-cycling-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/nth-cycling-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn parse-out-longs\\n  \\\"Parse out all numbers in `line` that are integers (longs)\\\"\\n  [line]\\n  (map parse-long (re-seq #\\\"[-+]?\\\\d+\\\" line)))\", :nextjournal/render-opts {:loc {:line 44, :end-line 47, :column 1, :end-column 46}, :id \"util/parse-out-longs-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$parse_out_longs 0x1088436d \\\"util$parse_out_longs@1088436d\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/parse-out-longs-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/parse-out-longs-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"util/markdown-5du7KW3v3vc6ggMpgsqummDcyYMDUd\"} [:p [:<> \"Like the core time macro, but rather than printing the elapsed time it\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash \"5dtFMoRpfSur3BJ5RKN8sHB4mECYMZ\"}}] [:<> \"returns a list of (result, time). Returned value is in milliseconds.\"]]], :nextjournal/render-opts {:id \"util/markdown-5du7KW3v3vc6ggMpgsqummDcyYMDUd\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defmacro time-it [expr]\\n  `(let [start# (. System (nanoTime))\\n         ret#   ~expr\\n         end#   (/ (double (- (. System (nanoTime)) start#)) 1000000.0)]\\n     (list ret# end#)))\", :nextjournal/render-opts {:loc {:line 51, :end-line 55, :column 1, :end-column 24}, :id \"util/time-it-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$time_it 0x3492ec7d \\\"util$time_it@3492ec7d\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/time-it-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/time-it-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn tee\\n  \\\"Like 'tap' or 'tee', show the value of expr before returning it\\\"\\n  [expr]\\n  (print expr \\\"\\\\n\\\")\\n  expr)\", :nextjournal/render-opts {:loc {:line 57, :end-line 61, :column 1, :end-column 8}, :id \"util/tee-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$tee 0x171a82ae \\\"util$tee@171a82ae\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/tee-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/tee-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"util/markdown-5drrtxPXW8UXxNGef5ra9Z6D8WWXHq\"} [:p [:<> \"Taken from \"] [:a {:href \"https://stackoverflow.com/a/3266877/6421\"} [:<> \"https://stackoverflow.com/a/3266877/6421\"]]] [:p [:<> \"Get matches for a given regexp \"] [:em [:<> \"and\"]] [:<> \" their position within the string.\"]]], :nextjournal/render-opts {:id \"util/markdown-5drrtxPXW8UXxNGef5ra9Z6D8WWXHq\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash \"5dsjzwxRkivFXiBf1NDMWmH54cVWV1\"}} {:path [], :nextjournal/value \"(defn re-pos\\n  \\\"Return a list of pairs of (index, string) for all matches of `re` in `s`\\\"\\n  [re s]\\n  (loop [m   (re-matcher re s)\\n         res ()]\\n    (if (.find m)\\n      (recur m (cons (list (.start m) (.group m)) res))\\n      (reverse res))))\", :nextjournal/render-opts {:loc {:line 66, :end-line 73, :column 1, :end-column 23}, :id \"util/re-pos-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$re_pos 0x227c6d4a \\\"util$re_pos@227c6d4a\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/re-pos-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/re-pos-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn re-find-pos\\n  \\\"Return a list of pairs of (index, string) for all matches of `re` in `s`\\\"\\n  [re s]\\n  (let [m   (re-matcher re s)]\\n    (when (.find m)\\n      (list (.start m) (.group m)))))\", :nextjournal/render-opts {:loc {:line 75, :end-line 80, :column 1, :end-column 38}, :id \"util/re-find-pos-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$re_find_pos 0x703dc143 \\\"util$re_find_pos@703dc143\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/re-find-pos-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/re-find-pos-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn instaparse [data grammar transform]\\n  (->> data\\n       ((insta/parser\\n         grammar))\\n       #_{:clj-kondo/ignore [:unresolved-var]}\\n       (insta/transform transform)))\", :nextjournal/render-opts {:loc {:line 82, :end-line 87, :column 1, :end-column 37}, :id \"util/instaparse-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$instaparse 0x53ef3a3d \\\"util$instaparse@53ef3a3d\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/instaparse-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/instaparse-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn tprint [x]\\n  (pprint x)\\n  x)\", :nextjournal/render-opts {:loc {:line 90, :end-line 92, :column 1, :end-column 5}, :id \"util/tprint-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$tprint 0x10a3cd1c \\\"util$tprint@10a3cd1c\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/tprint-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/tprint-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn spy [d]\\n  (println d)\\n  d)\", :nextjournal/render-opts {:loc {:line 95, :end-line 97, :column 1, :end-column 5}, :id \"util/spy-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$spy 0x51f4e47f \\\"util$spy@51f4e47f\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/spy-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/spy-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn parse-int\\n  ([s]\\n   (parse-int s 10))\\n  ([s b]\\n   (try (Integer/parseInt s b)\\n        (catch Exception e nil))))\", :nextjournal/render-opts {:loc {:line 99, :end-line 104, :column 1, :end-column 35}, :id \"util/parse-int-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$parse_int 0x4f5d00db \\\"util$parse_int@4f5d00db\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/parse-int-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/parse-int-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn get-session []\\n  (or (System/getenv \\\"AOC_TOKEN\\\")\\n      (let [raw (slurp (str (System/getProperty \\\"user.home\\\") \\\"/.adventofcode.session\\\"))]\\n        (str/replace raw \\\"\\\\n\\\" \\\"\\\"))))\", :nextjournal/render-opts {:loc {:line 106, :end-line 109, :column 1, :end-column 37}, :id \"util/get-session-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$get_session 0x6549f5df \\\"util$get_session@6549f5df\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/get-session-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/get-session-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn load-problem\\n  \\\"Given a DAY and a YEAR, cache the problem definition locally. If `AOC_TOKEN`\\n  is set correctly, this will pull both parts if you've done part 1.\\\"\\n  [day year]\\n  (let [day       (str (parse-long day))\\n        file-name (format \\\"day%s-%s.html\\\" day year)\\n        path      (fs/path (fs/temp-dir) file-name)]\\n    (when-not (fs/exists? path)\\n      (let [resp (->> {:headers {\\\"Cookie\\\" (str \\\"session=\\\" (get-session))}}\\n                      (client/get (format \\\"https://adventofcode.com/%s/day/%s\\\" year day)))]\\n        (when (= 200 (:status resp))\\n          (spit (str path) (:body resp)))))\\n\\n    (let [doc   (h/as-hickory (h/parse (slurp (str path))))\\n          parts (map #(hr/hickory-to-html %) (s/select (s/child (s/tag :article)) doc))]\\n\\n      (str (hi/html [:details\\n                     [:summary.cursor-pointer\\n                      [:span.text-xl.font-bold (str \\\"Details\\\")]]\\n                     (hi/raw (apply str (mapcat str parts)))])))))\", :nextjournal/render-opts {:loc {:line 111, :end-line 130, :column 1, :end-column 67}, :id \"util/load-problem-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$load_problem 0x6b8c0f47 \\\"util$load_problem@6b8c0f47\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/load-problem-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/load-problem-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(hi/html [:details\\n          [:summary\\n           \\\"2023\\\"\\n           (hi/raw (load-problem \\\"01\\\" \\\"2023\\\"))]])\", :nextjournal/render-opts {:loc {:line 134, :end-line 137, :column 1, :end-column 50}, :id \"util/anon-expr-5drb4HwsWJYSLTx5jkEn5NAdthChGE-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[hiccup.util.RawString 0x1dadd955 \\\"<details><summary>2023<details><summary class=\\\\\\\"cursor-pointer\\\\\\\"><span class=\\\\\\\"text-xl font-bold\\\\\\\">Details</span></summary><article class=\\\\\\\"day-desc\\\\\\\"><h2>--- Day 1: Trebuchet?! ---</h2><p>Something is wrong with global snow production, and you've been selected to take a look. The Elves have even given you a map; on it, they've used stars to mark the top fifty locations that are likely to be having problems.</p>\\\\n<p>You've been doing this long enough to know that to restore snow operations, you need to check all <em class=\\\\\\\"star\\\\\\\">fifty stars</em> by December 25th.</p>\\\\n<p>Collect stars by solving puzzles.  Two puzzles will be made available on each day in the Advent calendar; the second puzzle is unlocked when you complete the first.  Each puzzle grants <em class=\\\\\\\"star\\\\\\\">one star</em>. Good luck!</p>\\\\n<p>You try to ask why they can't just use a <a href=\\\\\\\"/2015/day/1\\\\\\\">weather machine</a> (&quot;not powerful enough&quot;) and where they're even sending you (&quot;the sky&quot;) and why your map looks mostly blank (&quot;you sure ask a lot of questions&quot;) <span title=\\\\\\\"My hope is that this abomination of a run-on sentence somehow conveys the chaos of being hastily loaded into a trebuchet.\\\\\\\">and</span> hang on did you just say the sky (&quot;of course, where do you think snow comes from&quot;) when you realize that the Elves are already loading you into a <a href=\\\\\\\"https://en.wikipedia.org/wiki/Trebuchet\\\\\\\" target=\\\\\\\"_blank\\\\\\\">trebuchet</a> (&quot;please hold still, we need to strap you in&quot;).</p>\\\\n<p>As they're making the final adjustments, they discover that their calibration document (your puzzle input) has been <em>amended</em> by a very young Elf who was apparently just excited to show off her art skills. Consequently, the Elves are having trouble reading the values on the document.</p>\\\\n<p>The newly-improved calibration document consists of lines of text; each line originally contained a specific <em>calibration value</em> that the Elves now need to recover. On each line, the calibration value can be found by combining the <em>first digit</em> and the <em>last digit</em> (in that order) to form a single <em>two-digit number</em>.</p>\\\\n<p>For example:</p>\\\\n<pre><code>1abc2\\\\npqr3stu8vwx\\\\na1b2c3d4e5f\\\\ntreb7uchet\\\\n</code></pre>\\\\n<p>In this example, the calibration values of these four lines are <code>12</code>, <code>38</code>, <code>15</code>, and <code>77</code>. Adding these together produces <code><em>142</em></code>.</p>\\\\n<p>Consider your entire calibration document. <em>What is the sum of all of the calibration values?</em></p>\\\\n</article></details></summary></details>\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/anon-expr-5drb4HwsWJYSLTx5jkEn5NAdthChGE-result\"}}, :nextjournal/blob-id \"5dt5L8hGqEGvSV5U9GzNL8vZpzz1Fz\", :nextjournal/fetch-opts {:blob-id \"5dt5L8hGqEGvSV5U9GzNL8vZpzz1Fz\"}, :nextjournal/hash \"8VusQdVbKVkAHJFvS63DSds2Cptb6TDHBGxE8WfYH82kTP1n8hAqshzDsUyTMRonw6kSSUL8f1eHkKHZSn5fe7w8Gg\"}, :nextjournal/render-opts {:id \"util/anon-expr-5drb4HwsWJYSLTx5jkEn5NAdthChGE-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn load-title\\n  \\\"Given a DAY and a YEAR, return the title of the problem.\\\"\\n  [day year]\\n  (let [day       (if (number? day) (str day) (str (parse-long day)))\\n        file-name (format \\\"day%s-%s.html\\\" day year)\\n        _         (load-problem day year)\\n        path      (fs/path (fs/temp-dir) file-name)\\n        doc       (h/as-hickory (h/parse (slurp (str path))))\\n        parts     (map #(hr/hickory-to-html %) (s/select (s/child (s/tag :h2)) doc))]\\n    (->> parts\\n         first\\n         (re-find #\\\"(?<=>--- )(.*)(?= ---<)\\\")\\n         first)))\", :nextjournal/render-opts {:loc {:line 139, :end-line 151, :column 1, :end-column 18}, :id \"util/load-title-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$load_title 0x3ad159e3 \\\"util$load_title@3ad159e3\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/load-title-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/load-title-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn absolute-distance [s1 s2]\\n  (Math/abs (- s1 s2)))\", :nextjournal/render-opts {:loc {:line 153, :end-line 154, :column 1, :end-column 24}, :id \"util/absolute-distance-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$absolute_distance 0x109cb46b \\\"util$absolute_distance@109cb46b\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/absolute-distance-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/absolute-distance-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn manhattan-distance [v1 v2]\\n  (->> (map absolute-distance v1 v2)\\n       (reduce +)))\", :nextjournal/render-opts {:loc {:line 156, :end-line 158, :column 1, :end-column 20}, :id \"util/manhattan-distance-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$manhattan_distance 0x1be16708 \\\"util$manhattan_distance@1be16708\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/manhattan-distance-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/manhattan-distance-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn find-all-paths\\n  [graph start end]\\n  (letfn [(find-paths [node path]\\n            (if (= node end)\\n              [path]\\n              (apply concat (map #(find-paths %1 (conj path %1))\\n                                 (remove #(contains? (set path) %) (uber/successors graph node))))))]\\n    (find-paths start [start])))\", :nextjournal/render-opts {:loc {:line 160, :end-line 167, :column 1, :end-column 33}, :id \"util/find-all-paths-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$find_all_paths 0x68f57250 \\\"util$find_all_paths@68f57250\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/find-all-paths-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/find-all-paths-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn assoc-at [data i item]\\n  (if (associative? data)\\n    (assoc data i item)\\n    (if-not (neg? i)\\n      (letfn [(assoc-lazy [i data]\\n                (cond (zero? i) (cons item (rest data))\\n                      (empty? data) data\\n                      :else (lazy-seq (cons (first data)\\n                                            (assoc-lazy (dec i) (rest data))))))]\\n        (assoc-lazy i data))\\n      data)))\", :nextjournal/render-opts {:loc {:line 169, :end-line 179, :column 1, :end-column 14}, :id \"util/assoc-at-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$assoc_at 0x585b20ec \\\"util$assoc_at@585b20ec\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/assoc-at-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/assoc-at-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(def star\\n  [:span {:class \\\"text-right font-bold text-xl\\\"} \\\"*\\\"])\", :nextjournal/render-opts {:loc {:line 181, :end-line 182, :column 1, :end-column 55}, :id \"util/star-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value :span, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #viewer-fn (fn [x] [:span.cmt-atom.inspected-value (str x)]), :hash \"5duGajFTnAgGjfawvq1FBKha12ZHyw\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :class, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #viewer-fn (fn [x] [:span.cmt-atom.inspected-value (str x)]), :hash \"5duGajFTnAgGjfawvq1FBKha12ZHyw\"}} {:path [1 0 1], :nextjournal/value \"text-right font-bold text-xl\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\" \"}\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5droUthZ6BBTwumLFMkuWhk1rT3hT3\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-map, :opening-paren \"{\", :page-size 10, :hash \"5drSiYgxwbGAGQx15hZm4Ts9vK16be\"}} {:path [2], :nextjournal/value \"*\", :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\" \"]\"), :page-size 80, :hash \"5dsoVKnSNgnKXj1Cv4qvD6xr6wMks7\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :page-size 20, :hash \"5dsPqhnXQ6NY7bfSdVZe5SH2Voaoff\"}, :nextjournal/render-opts {:id \"util/star-result\"}}, :nextjournal/blob-id \"5dtxZvi3tg5Wn1UCZ3UVnXxGkpabD5\", :nextjournal/fetch-opts {:blob-id \"5dtxZvi3tg5Wn1UCZ3UVnXxGkpabD5\"}, :nextjournal/hash \"8VvFx7diJJre1mDMVqaL5zrEut72WT1DhfuSoaqJMBjeubCUQcKBFJFbcNJF7HERVmoVx71Y97mDSecEADiihFFvS5\"}, :nextjournal/render-opts {:id \"util/star-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}} {:path [], :nextjournal/value \"(defn list-problems [year days]\\n  (clerk/html\\n   [:div.flex.flex-col.gap-4\\n    (for [[day {:keys [stars]}] (sort days)\\n          :let                  [title (load-title day year)]]\\n      [:div.flex.flex-row.gap-4\\n       [:div {:class (str \\\"flex basis-[30px] items-center justify-end \\\"\\n                          (if (>= stars 2) \\\"text-yellow-300\\\"  \\\"text-yellow-100\\\"))}\\n        (repeat stars star)]\\n       [:a {:href (clerk/doc-url (str \\\"src/aoc/\\\" year \\\"/\\\" (format \\\"%02d\\\" day)))}\\n        title]\\n       [:div]])]))\", :nextjournal/render-opts {:loc {:line 184, :end-line 195, :column 1, :end-column 19}, :id \"util/list-problems-code\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dtogCRMFvgKZ3gMGuwZAef65oxRZD\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[util$list_problems 0x2d11e860 \\\"util$list_problems@2d11e860\\\"]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5du3nEWKL6ov9p2VcYkP5JLW7a9Hwz\"}, :nextjournal/render-opts {:id \"util/list-problems-result\"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id \"util/list-problems-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dryaWFamQn5VBuSHLJXGpfgbLUTKh\"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5dsiHybTyGGTEpReRaV7nfNxoDgnKx\"}}}, :current-path \"src/util\", :resource->url {\"/js/viewer.js\" \"https://storage.clerk.garden/nextjournal/clerk-assets@43sknWSpfsWGp1HAfZe1dLuBjmWH/viewer.js?immutable=true\", \"/css/viewer.css\" \"_data/8VwRacfAp9VtgahH4iyd7ZtkRPNpBJQFjpEachUUioQt9RvYYXvb8EhyGNN3weht8T8Y4hBYg2UmnfL7u4Q6YR1fVw.css\"}, :index \"src/index.clj\"}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
viewer.init(viewer.read_string(state))
</script></body></html>